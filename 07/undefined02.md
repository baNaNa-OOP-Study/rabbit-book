# 설계하고 구현하기
## 커피를 주문하기 위한 협력 찾기

- 객체지향 설계의 핵심은 **훌륭한 객체**를 만드는 것이 아니라, **훌륭한 협력**을 설계하는 것이다.
- 객체가 메시지를 선택하는 것이 아니라, **메시지가 객체를 선택하게 해야 한다.**
- 메시지를 중심으로 협력 관계를 구성하면 각 객체의 책임과 역할이 자연스럽게 드러난다.

### 커피 주문 예제

1. **“커피를 주문하라”** 는 메시지는 **손님 객체**에게 책임이 할당된다.
2. 손님은 메뉴를 알지 못하므로 **“메뉴 항목을 찾아라”** 는 메시지를 **메뉴판 객체**에게 전달한다.
3. 메뉴판은 내부의 메뉴 리스트를 검색하여 적절한 **메뉴 항목**을 반환한다.
4. 손님은 이 메뉴 항목을 가지고 **“커피를 제조하라”** 는 메시지를 **바리스타 객체**에게 전달한다.
5. 바리스타는 커피를 만들어 손님에게 전달한다.

### 협력 구조 요약

| 객체     | 메시지 (책임)         | 설명              |
|----------|------------------------|-------------------|
| 손님     | 커피를 주문하라        | 전체 요청의 출발점 |
| 메뉴판   | 메뉴 항목을 찾아라     | 메뉴 정보 제공     |
| 바리스타 | 커피를 제조하라        | 실제 커피 제조 담당 |

- 직접 할 수 없는 일은 연관된 객체에게 요청함으로써 **협력** 이 이루어진다.
- 책임은 **정보를 가장 많이 알고 있는 객체에게 할당** 하는 것이 설계의 기본 원칙이다.

---

## 인터페이스 정리하기

- 객체들을 협력 문맥에서 분리하여, **수신 가능한 메시지** 만 추려낸 것이 **인터페이스** 이다.
- 인터페이스란 객체가 외부에 제공하는 **메시지 목록** 이다.
- 실제 소프트웨어는 **동적인 객체** 가 아닌, **정적인 타입** 을 기반으로 구현되므로 **타입 정의** 가 필요하다.

### 설계 팁

- 인터페이스를 정의할 때 객체의 **속성** 이나 **자료구조** 를 고려하지 말아야 한다.
- 내부 구현에 대한 **가정을 하지 않고** , **외부와의 메시지에 집중** 해야 캡슐화를 제대로 이룰 수 있다.
- **클래스는 타입을 구현하는 도구** 일 뿐이며, 클래스와 타입은 구분되어야 한다.

---

## 구현하기

- 설계된 협력 구조를 바탕으로 **객체 간 메시지 전달**을 구현한다.
- 객체가 다른 객체에 메시지를 보내기 위해서는 **참조**가 필요하며, 이를 **메서드 인자**로 전달할 수 있다.

```java
// 예시
손님.주문하라(메뉴판, 바리스타);
```
- **메뉴판**은 메뉴 항목 리스트를 내부에서 관리하며, 요청된 항목을 탐색 후 반환한다.
- **구현 도중 인터페이스는 변경될 수 있으므로**, 너무 완벽한 설계보다는 빠르게 구현하고 점진적으로 보완하는 것이 좋다.

### 구현 팁

- **책임을 먼저 정한 뒤**, 그 책임을 수행하는 데 필요한 **속성과 메서드**를 추가해나가는 방식이 이상적이다.
- 실제로 **인터페이스를 통해 상호작용을 해보기 전까지**는 완전한 인터페이스를 예측하는 것은 어렵다.
- 설계를 **단순하게 시작하고**, **빠르게 구현에 들어가는 것**이 효과적인 전략이다.

